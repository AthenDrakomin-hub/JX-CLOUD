# AGENTS.md

This file provides guidance to Qoder (qoder.com) when working with code in this repository.

## ğŸ¨ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåä¸º"æ±Ÿè¥¿äº‘å¨"çš„ç°ä»£åŒ–é…’åº—ç®¡ç†ç”Ÿæ€ç³»ç»Ÿï¼Œé‡‡ç”¨å…¨æ ˆæ¶æ„è®¾è®¡ï¼ŒåŒ…å«å®¢æˆ¿ç‚¹é¤ã€è®¢å•ç®¡ç†ã€è´¢åŠ¡ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸ›  æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19 + TypeScript + Vite
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS
- **åç«¯æœåŠ¡**: Supabase (PostgreSQL + Realtime + Storage)
- **è®¤è¯ç³»ç»Ÿ**: Better-Auth (æ”¯æŒç”Ÿç‰©è¯†åˆ«)
- **éƒ¨ç½²å¹³å°**: Vercel Edge Runtime
- **å›¾æ ‡åº“**: Lucide React
- **å›¾è¡¨åº“**: Recharts

## ğŸ“ é¡¹ç›®æ¶æ„

```
src/
â”œâ”€â”€ components/          # Reactç»„ä»¶ (20+ä¸ªä¸šåŠ¡ç»„ä»¶)
â”œâ”€â”€ services/           # æ ¸å¿ƒæœåŠ¡å±‚
â”‚   â”œâ”€â”€ api.ts         # æ•°æ®ç½‘å…³ (ç»Ÿä¸€APIæ¥å£)
â”‚   â”œâ”€â”€ auth.ts        # è®¤è¯é€»è¾‘
â”‚   â”œâ”€â”€ supabaseClient.ts  # æ•°æ®åº“å®¢æˆ·ç«¯
â”‚   â””â”€â”€ notification.ts    # é€šçŸ¥æœåŠ¡
â”œâ”€â”€ constants.ts       # åˆå§‹æ•°æ®å¸¸é‡
â”œâ”€â”€ types.ts          # TypeScriptç±»å‹å®šä¹‰
â””â”€â”€ translations.ts   # å›½é™…åŒ–ç¿»è¯‘
```

## ğŸš€ å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

## ğŸ— æ ¸å¿ƒæ¶æ„ç‰¹ç‚¹

### 1. æ•°æ®æµæ¶æ„
- ä½¿ç”¨ `api.ts` ä½œä¸ºç»Ÿä¸€æ•°æ®ç½‘å…³
- æ‰€æœ‰ç»„ä»¶é€šè¿‡ `api.[æ¨¡å—].[æ–¹æ³•]` è®¿é—®æ•°æ®
- æ”¯æŒæ¼”ç¤ºæ¨¡å¼å’Œç”Ÿäº§æ¨¡å¼åˆ‡æ¢

### 2. æƒé™ä½“ç³»
- ä¸‰ç§ç”¨æˆ·è§’è‰²: ADMIN, PARTNER, STAFF
- åˆä¼™äººæ•°æ®ç‰©ç†éš”ç¦»
- æ ¹ç®¡ç†å‘˜ç‰¹æ®Šæƒé™ (`athendrakomin@proton.me`)

### 3. å®æ—¶é€šä¿¡
- åŸºäºSupabase Realtimeå®ç°è®¢å•å®æ—¶æ¨é€
- WebSocketè®¢é˜…æœºåˆ¶
- è¯­éŸ³æ’­æŠ¥å’Œæ¡Œé¢é€šçŸ¥é›†æˆ

### 4. ç»„ä»¶ç»„ç»‡
ä¸»è¦ä¸šåŠ¡æ¨¡å—åŒ…æ‹¬:
- Dashboard (ç»è¥å¤§ç›˜)
- RoomGrid (å®¢æˆ¿ç®¡ç†)
- OrderManagement (è®¢å•è°ƒåº¦)
- SupplyChainManager (ä¾›åº”é“¾)
- FinancialCenter (è´¢åŠ¡ä¸­å¿ƒ)
- StaffManagement (å‘˜å·¥ç®¡ç†)

## ğŸ”§ å¼€å‘æ³¨æ„äº‹é¡¹

### æ•°æ®åº“æ“ä½œè§„èŒƒ
- æ‰€æœ‰æ•°æ®åº“æ“ä½œå¿…é¡»é€šè¿‡ `api.ts` æœåŠ¡å±‚
- åˆä¼™äººç›¸å…³æŸ¥è¯¢éœ€æ·»åŠ  `partner_id` è¿‡æ»¤æ¡ä»¶
- åˆ é™¤æ“ä½œå‰éœ€æ£€æŸ¥æ ¹ç®¡ç†å‘˜ä¿æŠ¤é€»è¾‘

### ç»„ä»¶å¼€å‘åŸåˆ™
- ç»„ä»¶é—´é€šè¿‡propsä¼ é€’æ•°æ®å’Œå›è°ƒå‡½æ•°
- ä½¿ç”¨TypeScriptä¸¥æ ¼ç±»å‹æ£€æŸ¥
- å›½é™…åŒ–é€šè¿‡ `getTranslation()` å‡½æ•°å¤„ç†

### å®æ—¶åŠŸèƒ½å¼€å‘
- æ–°å¢å®æ—¶ç›‘å¬éœ€åœ¨ `useEffect` ä¸­æ³¨å†Œchannel
- è®°å¾—åœ¨ç»„ä»¶å¸è½½æ—¶æ¸…ç†è®¢é˜…
- å‚è€ƒ `App.tsx` ä¸­çš„è®¢å•å®æ—¶ç›‘å¬å®ç°

## ğŸ¯ å¸¸è§å¼€å‘åœºæ™¯

### æ·»åŠ æ–°ä¸šåŠ¡æ¨¡å—
1. åœ¨ `types.ts` ä¸­å®šä¹‰ç›¸å…³ç±»å‹
2. åœ¨ `api.ts` ä¸­æ·»åŠ å¯¹åº”çš„æœåŠ¡æ–¹æ³•
3. åˆ›å»ºæ–°çš„ç»„ä»¶æ–‡ä»¶
4. åœ¨ `App.tsx` ä¸­æ³¨å†Œè·¯ç”±å’Œå¯¼èˆª

### ä¿®æ”¹æ•°æ®åº“ç»“æ„
1. æ›´æ–° `database_setup.sql` è„šæœ¬
2. åœ¨ `schema.ts` ä¸­åŒæ­¥ç±»å‹å®šä¹‰
3. æ›´æ–° `api.ts` ä¸­çš„ç›¸å…³æ–¹æ³•
4. ä¿®æ”¹å¯¹åº”çš„ç»„ä»¶UI

### æ·»åŠ å›½é™…åŒ–æ–‡æœ¬
1. åœ¨ `translations.ts` ä¸­æ·»åŠ é”®å€¼å¯¹
2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ `t('key')` è°ƒç”¨ç¿»è¯‘
3. æ”¯æŒä¸­æ–‡(zh)å’Œè‹±æ–‡(en)ä¸¤ç§è¯­è¨€

### éƒ¨ç½²é—®é¢˜è§£å†³
1. ä¿®å¤å¯¼å…¥è·¯å¾„é”™è¯¯ï¼š`../translations` â†’ `./translations`
2. å®‰è£…ç¼ºå¤±ä¾èµ–ï¼š`better-auth`, `drizzle-orm`, `react-hook-form`, `postgres`
3. ä¿®å¤TypeScriptç±»å‹é”™è¯¯å’ŒAPIè°ƒç”¨ä¸å…¼å®¹é—®é¢˜
4. è°ƒæ•´æ„å»ºé…ç½®ä»¥ç¡®ä¿Verceléƒ¨ç½²é¡ºåˆ©
5. è§£å†³CategoryManagement.tsxä¸­çš„controlå±æ€§ä¼ é€’é—®é¢˜
6. ä¿®å¤SystemSettings.tsxä¸­çš„APIè¿”å›ç±»å‹å¤„ç†