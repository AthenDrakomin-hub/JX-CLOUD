<!DOCTYPE html>
<html>
<head>
    <title>å¥åº·æ£€æŸ¥æµ‹è¯•</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>ğŸ¥ æ±Ÿè¥¿äº‘å¨å¥åº·æ£€æŸ¥æµ‹è¯•</h1>
    <div id="result">æ­£åœ¨æ£€æŸ¥...</div>
    
    <script>
        fetch('/api/health')
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = `
                    <h2>âœ… å¥åº·æ£€æŸ¥ç»“æœ</h2>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                    
                    <h3>ğŸ“Š å…³é”®æŒ‡æ ‡:</h3>
                    <ul>
                        <li>çŠ¶æ€: <strong style="color: ${data.status === 'healthy' ? 'green' : 'red'}">${data.status}</strong></li>
                        <li>ç‰ˆæœ¬: <strong>${data.version}</strong></li>
                        <li>æ•°æ®åº“è¿æ¥: <strong style="color: ${data.db_connected ? 'green' : 'red'}">${data.db_connected ? 'å·²è¿æ¥' : 'æœªè¿æ¥'}</strong></li>
                        <li>å¿ƒè·³å“åº”: <strong>${data.db_heartbeat}</strong></li>
                        ${data.connection_stats ? `
                        <li>æ€»è¿æ¥æ•°: <strong>${data.connection_stats.total}</strong></li>
                        <li>æ´»è·ƒè¿æ¥: <strong>${data.connection_stats.active}</strong></li>
                        <li>ç©ºé—²è¿æ¥: <strong>${data.connection_stats.idle}</strong></li>
                        ` : ''}
                    </ul>
                `;
            })
            .catch(error => {
                document.getElementById('result').innerHTML = `
                    <h2>âŒ æ£€æŸ¥å¤±è´¥</h2>
                    <p style="color: red;">${error.message}</p>
                `;
            });
    </script>
</body>
</html>